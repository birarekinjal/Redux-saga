(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1068:function(e,t,r){"use strict";r.r(t);var n=r(3),a=r.n(n),o=r(7),s=r.n(o),c=r(164),i=r.n(c),u=r(165),l=r.n(u),p=r(125),d=r.n(p),m=r(166),f=r.n(m),h=r(167),v=r.n(h),b=r(124),g=r.n(b),y=r(16),x=r.n(y),E=r(4),w=r.n(E),S=r(947),k=r(954),C=r(958),F=(r(969),r(397)),N=r(11);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g()(e);if(t){var a=g()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return v()(this,r)}}var V,I={position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},R=function(e){f()(r,e);var t=P(r);function r(e){var n;return i()(this,r),n=t.call(this,e),x()(d()(n),"handleSubmit",function(){var e=s()(a.a.mark((function e(t){var r,o,c,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props,o=r.userName,r.user,c=r.password,i=t.otp,document.body.classList.remove("modal-open"),e.prev=3,e.next=6,F.a.confirmSignUp(o,i).then(function(){var e=s()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.props.closePopup(),n.props.showSuccessPopup(),e.next=4,F.a.signIn(o,c);case 4:r=e.sent,F.a.setPreferredMFA(r,"SMS").then((function(e){return console.log("MFA update success: ",e)})).catch((function(e){return console.log("MFA update error: ",e)})),n.props.history.push("/signin");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:e.next=15;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("error confirming sign up",e.t0),N.c.error(e.t0.message,I),n.setState({disabled:!1}),clearInterval(V),display.textContent="2:30";case 15:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()),x()(d()(n),"resendCode",s()(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.userName,150,r=document.querySelector("#time"),n.startTimer(150,r),e.prev=3,e.next=6,F.a.resendSignUp(t);case 6:console.log("code resent successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),N.c.error(e.t0.message,I);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})))),x()(d()(n),"startTimer",(function(e,t){var r,a,o=e;V=setInterval((function(){r=parseInt(o/60,10),a=parseInt(o%60,10),r=r<10?"0"+r:r,a=a<10?"0"+a:a,t.textContent=r+":"+a,--o<0&&(o=e,clearInterval(V),n.setState({disabled:!1}))}),1e3)})),n.state={disabled:!1},n}return l()(r,[{key:"componentDidMount",value:function(){var e=document.querySelector("#time");this.startTimer(150,e),this.setState({disabled:!0})}},{key:"render",value:function(){var e=this,t=this.props.closePopup;return w.a.createElement(S.k,{closePopup:t},w.a.createElement(k.d,{initialValues:{otp:""},validationSchema:C.a,onSubmit:this.handleSubmit},(function(t){var r=t.values,n=t.errors,a=t.touched,o=t.handleSubmit,s=t.setFieldValue,c=t.setFieldTouched;return w.a.createElement(w.a.Fragment,null,w.a.createElement("form",null,w.a.createElement("div",{className:"modal-body pt-0 plr-100 pb-0"},w.a.createElement("h4",{className:"modal-title text-center f-24 mb-5 f-b",id:"twoFactorTitle"},"Email Verification"),w.a.createElement(S.t,{type:"text",name:"otp",id:"otp",placeholder:"Enter one time password",error:n.otp,onChange:function(e){return s("otp",e)},value:r.otp,showError:a.otp&&n.otp,onBlur:function(){return!a.otp&&c("otp",!0,!0)}}),w.a.createElement("h5",{class:"text-center txt-blu my-5 f-20 f-m"},"Verification code sent on registered E-mail address"),w.a.createElement("h5",{class:"txt-org text-center mb-5 f-m"},"Code can be resent in ",w.a.createElement("span",{id:"time"},"02:30"))),w.a.createElement("div",{className:"modal-footer plr-100 pb-3 f-m"},w.a.createElement(S.c,{type:"submit",onClick:o,buttonText:"Verify Email Address",className:"w-100"})),w.a.createElement("div",{className:e.state.disabled?"disabledLink txt-org text-center mb-3 f-m":"txt-org text-center mb-3 f-m",style:{cursor:"pointer"},onClick:e.state.disabled?null:e.resendCode},"resend confirmation code")))})))}}]),r}(E.Component);t.default=R},958:function(e,t,r){"use strict";var n=r(957),a=n.c({otp:n.b().typeError("Value must be a number.").integer("Value must be a number.").required("Required.")});t.a=a}}]);