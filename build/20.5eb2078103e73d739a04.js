(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1565:function(e,t,a){"use strict";a.r(t);var n=a(270),c=a.n(n),r=a(4),l=a.n(r),m=a(126),o=a(947),s=a(1),p=a(950),i=a(19),u=a(11),d=a(951),f=void 0;t.default=Object(m.b)((function(e){return{templateList:e.Template.templateList,selectedTemplate:e.Template.selectedTemplate,selectedTemplateLoader:e.Template.selectedTemplateLoader,successLoader:e.Template.successLoader,templateUpdate:e.Template.templateUpdate,error:e.Auth.error}}),(function(e){return{getSelectAcceptanceTempInfo:function(t){return e(s.Tb(t))},createTemplate:function(t){return e(s.L(t))},editTemplate:function(t){return e(s.Bb(t))},errorClear:function(){return e(s.Fb())}}}))((function(e){var t=e.location,a=e.templateUpdate,n=t.state,m=n.finalObj,s=n.editFlag,b=Object(r.useState)(""),h=c()(b,2),v=h[0],T=h[1],E=Object(r.useState)(""),g=c()(E,2),N=g[0],y=g[1],w=e.selectedTemplate,_=e.selectedTemplateLoader,x=e.successLoader;!0===a&&e.history.push("template"),e.error&&(e.history.push("/template"),e.errorClear()),Object(r.useEffect)((function(){e.getSelectAcceptanceTempInfo(N),s&&T(m.acceptance_form)}),{});return l.a.createElement(o.w,null,l.a.createElement("div",{id:"userMgnt",className:"wrapper wrapper-content"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-xl-12"},l.a.createElement("div",{className:"containerBox pb-2"},l.a.createElement("div",{className:" "},l.a.createElement("div",{className:"table-title d-flex justify-content-between align-items-center mb-4"},l.a.createElement("h2",{className:"f-b m-0"},1==s?"Edit Template":"Create Template")),l.a.createElement("form",{role:"search",className:"search navbar-form-custom form-inline",action:"#"},l.a.createElement("div",{className:"form-group dropdown"},l.a.createElement("img",{className:"searchImg",src:p.a.search}),l.a.createElement("input",{type:"text",placeholder:"Search Template...",class:"form-control pl-5",value:N,name:"top-search",id:"top-search",onChange:function(e){return y(e.target.value)}})),l.a.createElement("a",{type:"submit",className:"btn btn-primary f-18 ml-2 f-m px-4",onClick:function(){e.getSelectAcceptanceTempInfo(N)}},"Search")),_&&l.a.createElement(i.a,null)||l.a.createElement("div",{className:"fixHeight",style:{maxHeight:"calc(100vh - 360px)",marginTop:20}},l.a.createElement("div",{className:"selectTemplate"},l.a.createElement("div",{className:"card-deck"},w.length>0?w.map((function(e,t){return l.a.createElement("div",{key:t,className:"card border-0  ".concat(v===e._id?"selected":""," "),onClick:function(){return T(e._id)}},l.a.createElement("img",{className:"card-img-top",src:p.a.temp1,alt:"Card image cap"}),l.a.createElement("div",{className:"card-footer border-0 pl-0"},l.a.createElement("strong",{className:"txt-blk f-18 "},e.template_name)))})):l.a.createElement("div",{className:"no-data"}," No data ")))),l.a.createElement("div",{class:"offset-lg-2 offset-md-2 col-lg-8 col-md-8 d-flex mt-2"},l.a.createElement(o.c,{type:"button",buttonText:"Previous",className:"m-1 clear_button",onClick:function(){return function(){var t=e.location.state,a=t.finalObj;t.editFlag?e.history.push("editTemp",{finalObj:a,selectTemp:!0}):e.history.push("createTemp",{finalObj:a,selectTemp:!0})}()}}),l.a.createElement(o.c,{type:"button",buttonText:x?l.a.createElement("i",{class:"fa fa-refresh fa-spin"}):"Submit",className:"m-1",onClick:function(){return function(){var t=m;if(""!==v){t.acceptance_form=v;var n=Object(d.a)(t);s?e.editTemplate(n):e.createTemplate(n),!0===a&&f.props.history.push("template")}else u.c.error("Select document to continue")}()}}))))))))}))},951:function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return i}));var n=a(946),c=a.n(n),r=a(953),l=function(e){return e&&c()(e).format("MM-DD-YYYY")},m=function(e){return e&&c()(e).format("Do MMM YYYY")},o=function(e){return e&&c()(e).format("hh:mm A")},s=function(e,t,a){r.h[t].forEach((function(t){a.push(e[t])}))},p=function(e){var t=new FormData;return t.append("autoSave",e.autoSave),t.append("template_name",e.template_name),t.append("template_type",e.template_type),t.append("isAcceptanceDocument",e.isAcceptanceDocument),t.append("attribute",JSON.stringify(e.attribute)),e.acceptance_form&&t.append("acceptance_form",e.acceptance_form),t.append("thumbnail",e.thumbnail),e.templateId&&t.append("templateId",e.templateId),t},i=function(e,t,a,n,c){var r=[];return s(e,"role",r),s(t,"document",r),s(a,"template",r),s(n,"invoice",r),s(c,"payment",r),r}}}]);