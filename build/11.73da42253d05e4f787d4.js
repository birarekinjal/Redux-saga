(window.webpackJsonp=window.webpackJsonp||[]).push([[11,33],{1238:function(e,t,a){"use strict";a.r(t);var l=a(164),n=a.n(l),c=a(165),s=a.n(c),r=a(125),o=a.n(r),i=a(166),p=a.n(i),u=a(167),m=a.n(u),d=a(124),f=a.n(d),h=a(16),b=a.n(h),v=a(4),g=a.n(v),y=a(126),E=a(947),w=a(1),D=a(961),P=a.n(D),S=a(953);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return m()(this,a)}}var F=function(e){p()(a,e);var t=x(a);function a(){var e;n()(this,a);for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c)),b()(o()(e),"state",{editFlag:!1,deleteFlag:!1,addFlag:!1,editData:{},deleteData:{},addPopupSuccess:!1,viewFlag:!1,viewData:{},showSuccess:!1}),b()(o()(e),"editButtonOnClick",(function(t){document.body.classList.add("modal-open"),e.setState({editFlag:!0,editData:t})})),b()(o()(e),"editClosePopup",(function(){document.body.classList.remove("modal-open"),e.setState({editFlag:!1})})),b()(o()(e),"deleteClosePopup",(function(){document.body.classList.remove("modal-open"),e.setState({deleteFlag:!1,deleteData:{}})})),b()(o()(e),"deleteButtonOnClick",(function(t){document.body.classList.add("modal-open"),e.setState({deleteFlag:!0,deleteData:t})})),b()(o()(e),"confirmDelete",(function(){var t=e.state.deleteData._id;e.props.deleteTemplate({templateId:t})})),b()(o()(e),"addRoles",(function(){document.body.classList.add("modal-open"),e.setState({addFlag:!0})})),b()(o()(e),"addClosePopup",(function(){document.body.classList.remove("modal-open"),e.setState({addFlag:!1})})),b()(o()(e),"handleSubmit",(function(t){e.props.addRoleInList(t)})),b()(o()(e),"submitEditData",(function(t){e.props.editRoleInList(t)})),b()(o()(e),"closeSuccessPopup",(function(){e.setState({showSuccess:!1})})),b()(o()(e),"successPopup",(function(){var t;e.setState((t={addFlag:!1,editFlag:!1,deleteFlag:!1},b()(t,"addFlag",!1),b()(t,"editData",{}),b()(t,"deleteData",{}),b()(t,"viewFlag",!1),b()(t,"SuccessPopupFlag",!0),t))})),b()(o()(e),"successPopupClosePopup",(function(){var t;e.props.roleInitialization(),e.setState((t={addFlag:!1,editFlag:!1,deleteFlag:!1},b()(t,"addFlag",!1),b()(t,"viewFlag",!1),b()(t,"editData",{}),b()(t,"deleteData",{}),b()(t,"message",""),b()(t,"SuccessPopupFlag",!1),t))})),b()(o()(e),"closeViewPopup",(function(){document.body.classList.remove("modal-open"),e.setState({viewFlag:!1,viewData:{}})})),b()(o()(e),"editButtonOnClick",(function(t){e.props.history.push("editTemp",{data:t})})),e}return s()(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("templateId"));this.props.getTemplateDetail({templateId:e,whiteList:""})}},{key:"render",value:function(){var e=this,t=[],a=[];Object.keys(this.props.templateDetail).map((function(t){"attribute"==t&&e.props.templateDetail.attribute.map((function(e){a.push(e)})),"image"==t&&e.props.templateDetail.image.map((function(e){a.push(e)})),"text"==t&&e.props.templateDetail.text.map((function(e){a.push(e)}))}));var l=P.a.sortBy(a,["order"]);return l.map((function(e){Object.keys(e).map((function(a){"attribute_name"==a&&t.push(e)}))})),this.props.template&&0==this.props.template.view&&this.props.history.push("/template"),g.a.createElement(E.w,null,g.a.createElement("div",{id:"createTemp",class:"wrapper wrapper-content createTemp viewTemp"},g.a.createElement("div",{class:"row"},g.a.createElement("div",{class:"col-xl-12"},g.a.createElement("div",{class:"containerBox p-0"},g.a.createElement("div",{class:"row",id:"viewTemp"},g.a.createElement("div",{class:"col-xl-12 col-lg-12 col-sm-12 border-right py-4 pl-5"},g.a.createElement("div",{class:"table-title d-flex justify-content-between mb-2"},g.a.createElement("h2",{class:"f-b my-0"},"View Template"),null==this.props.template||this.props.template.update?g.a.createElement("a",{className:"btn-edit-temp btn-org btn mr-4",onClick:function(){return e.editButtonOnClick(e.props.templateDetail)}},"Edit Template"):null),g.a.createElement("div",{class:"fixHeight",style:{minHeight:"calc(100vh - 280px)",position:"relative"}},g.a.createElement("ul",{class:"slides"},g.a.createElement("li",{class:"slide slide1"},g.a.createElement("div",{class:"org-border br-6 p-3 bg-white"},g.a.createElement("div",{class:"row mb-3 "},g.a.createElement("div",{class:"col-lg-6 d-flex flex-wrap"},g.a.createElement("label",{class:"f-16 f-b"},"Template Name"),g.a.createElement("input",{type:"text",class:"form-control h-40 f-16 f-m w-70 mb-3",value:this.props.templateDetail.template_name,placeholder:"Enter Template Name",disabled:!0})),g.a.createElement("div",{class:"col"})),g.a.createElement("div",{class:"row mb-3 "},g.a.createElement("div",{class:"col-lg-6 d-flex flex-wrap"},g.a.createElement("label",{class:"f-16 f-b"},"Template Type"),g.a.createElement("div",{class:"input-group w-70"},g.a.createElement("select",{class:"acceptance custom-select f-16 f-m h-40 border-0 box-shd",disabled:!0},g.a.createElement("option",{value:this.props.templateDetail.template_type},this.props.templateDetail.template_type)))),g.a.createElement("div",{class:"col next-margin d-flex"},g.a.createElement("form",{class:"form-group d-inline-block"},g.a.createElement("div",{class:"custom-file edit-thum"},g.a.createElement("img",{class:"img-fluid image-circle tempLogo mr-3 temp-Image",src:S.f[this.props.templateDetail.template_type]}))))),g.a.createElement("div",{class:"custom-control custom-checkbox check-dipend"},g.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"customChec1k1",name:"example1",checked:this.props.templateDetail.isAcceptanceDocument,disabled:!0}),g.a.createElement("label",{class:"custom-control-label f-16 f-m pl-2",for:"customChec1k1"},"Required acceptance")))),l.map((function(e){return Object.keys(e).map((function(t){return"attribute_name"==t?g.a.createElement("li",{class:"slide slide2"},g.a.createElement("div",{class:"org-border br-6 p-3 bg-white"},g.a.createElement("div",{class:"row mb-3 "},g.a.createElement("div",{class:"col-lg-6 d-flex flex-wrap mb-3"},g.a.createElement("label",{class:"f-16 f-b"},"Attribute Name"),g.a.createElement("input",{type:"text",class:"form-control h-40 f-16 f-m w-70",value:e.attribute_name,placeholder:"Enter Attribute Name",disabled:!0})),g.a.createElement("div",{class:"col-lg-6 d-flex flex-wrap mb-3"},g.a.createElement("label",{class:"f-16 f-b"},"Data Type"),g.a.createElement("div",{class:"input-group w-70"},g.a.createElement("select",{class:"custom-select f-16 f-m h-40 border-0 box-shd",disabled:!0},g.a.createElement("option",{value:e.dataType},e.dataType)))),"Text"===e.dataType?g.a.createElement("div",{className:"col-lg-6 d-flex flex-wrap mb-3"},g.a.createElement("label",{className:"f-16 f-b"},"Description"),g.a.createElement("div",{className:"input-group w-70"},g.a.createElement(E.s,{placeholder:"Type here...",rows:3,value:e.value||""}))):""),g.a.createElement("div",{class:"custom-control custom-checkbox"},g.a.createElement("input",{type:"checkbox",class:"custom-control-input",id:"customChec1k11",name:"example1",checked:"Image"===e.dataType||"Qr"===e.dataType?e.default:e.include_in_thumbnail,disabled:!0}),g.a.createElement("label",{class:"custom-control-label f-16 f-m pl-2",for:"customChec1k11"},"Image"===e.dataType||"Qr"===e.dataType?"Set as Default":"Include in thumbnail")))):"title"==t?g.a.createElement("li",{class:"slide slide4"},g.a.createElement("div",{class:"org-border br-6 p-3 bg-white"},g.a.createElement("div",{class:"row mb-3 "},g.a.createElement("div",{class:"col-lg-6 d-flex flex-wrap mb-3 align-content-lg-start"},g.a.createElement("label",{class:"f-16 f-b"},"Title"),g.a.createElement("input",{type:"text",class:"form-control h-40 f-16 f-m w-70",value:e.title,placeholder:"Enter Attribute Name",disabled:!0})),g.a.createElement("div",{class:"col-lg-6 d-flex flex-wrap mb-3"},g.a.createElement("label",{class:"f-16 f-b"},"Description"),g.a.createElement("div",{class:"input-group w-70"},g.a.createElement("textarea",{rows:"3",class:"form-control",placeholder:"Type here...",disabled:!0},e.description)))))):"image_title"==t?g.a.createElement("li",{class:"slide slide3"},g.a.createElement("div",{class:"org-border br-6 p-3 bg-white"},g.a.createElement("div",{class:"row mb-3 "},g.a.createElement("div",{class:"col-lg-6 d-flex flex-wrap mb-3"},g.a.createElement("label",{class:"f-16 f-b"},"Thumbnail Title"),g.a.createElement("input",{type:"text",class:"form-control h-40 f-16 f-m w-70",value:e.image_title,placeholder:"Enter Thumbnail Title",disabled:!0})),g.a.createElement("div",{class:"col-lg-6 d-flex flex-wrap mb-3"},g.a.createElement("label",{class:"f-16 f-b"},"Data Type"),g.a.createElement("div",{class:"input-group w-70"},g.a.createElement("select",{class:"custom-select f-16 f-m h-40 border-0 box-shd",disabled:!0},g.a.createElement("option",{value:e.dataType,selected:!0},e.dataType))))))):void 0}))})))))))))))}}]),a}(v.Component);t.default=Object(y.b)((function(e){return{templateDetail:e.Template.templateDetail,template:e.Profile.template}}),(function(e){return{getTemplateListInfo:function(t){return e(w.ac(t))},deleteTemplate:function(t){return e(w.jb(t))},getTemplateDetail:function(t){return e(w.Yb(t))},templateInitialization:function(){return e(w.fd())}}}))(F)},1588:function(e,t,a){"use strict";a.r(t);var l=a(164),n=a.n(l),c=a(165),s=a.n(c),r=a(125),o=a.n(r),i=a(166),p=a.n(i),u=a(167),m=a.n(u),d=a(124),f=a.n(d),h=a(16),b=a.n(h),v=a(4),g=a.n(v),y=a(126),E=a(947),w=a(1),D=a(950);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return m()(this,a)}}var S=function(e){p()(a,e);var t=P(a);function a(e){return n()(this,a),t.call(this,e)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.closePopup,a=e.confirmDelete,l=e.deleteData;return g.a.createElement(E.k,{closePopup:t},g.a.createElement("div",{class:"modal-body pt-0 plr-100 pb-5"},g.a.createElement("img",{class:"mx-auto d-block text-center mb-5",src:D.a.error}),g.a.createElement("h4",{class:"modal-title text-center f-20 mb-5 f-m",id:""},"Are you sure to delete template ",l.template_name,"?"),g.a.createElement("div",{class:"d-flex"},g.a.createElement(E.c,{type:"button",buttonText:"No",className:"m-1 clear_button",onClick:t}),g.a.createElement(E.c,{type:"button",buttonText:"Yes",className:"m-1",onClick:a}))))}}]),a}(v.Component),x=a(953),F=a(951),T=a(956),k=a(1238),C=a(11);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){b()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return m()(this,a)}}var L={edit:!0,delete:!0},R=function(e){p()(a,e);var t=I(a);function a(){var e;n()(this,a);for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c)),b()(o()(e),"state",{editFlag:!1,deleteFlag:!1,addFlag:!1,editData:{},deleteData:{},addPopupSuccess:!1,viewFlag:!1,viewData:{},showSuccess:!1,successFlag:!0,SuccessPopupFlag:!0}),b()(o()(e),"editButtonOnClick",(function(t){e.props.history.push("editTemp",{data:t})})),b()(o()(e),"editClosePopup",(function(){document.body.classList.remove("modal-open"),e.setState({editFlag:!1})})),b()(o()(e),"deleteClosePopup",(function(){document.body.classList.remove("modal-open"),e.setState({deleteFlag:!1,deleteData:{}})})),b()(o()(e),"deleteButtonOnClick",(function(t){document.body.classList.add("modal-open"),e.setState({deleteFlag:!0,deleteData:t})})),b()(o()(e),"confirmDelete",(function(){var t=e.state.deleteData._id;e.props.deleteTemplate({templateId:t})})),b()(o()(e),"addTemplates",(function(){e.props.history.push("createTemp")})),b()(o()(e),"addClosePopup",(function(){document.body.classList.remove("modal-open"),e.setState({addFlag:!1})})),b()(o()(e),"handleSubmit",(function(t){e.props.addRoleInList(t)})),b()(o()(e),"submitEditData",(function(t){e.props.editRoleInList(t)})),b()(o()(e),"closeSuccessPopup",(function(){e.setState({showSuccess:!1})})),b()(o()(e),"errorclose",(function(){0==e.state.showSuccess&&e.props.errorClear()})),b()(o()(e),"successPopup",(function(){var t;e.setState((t={addFlag:!1,editFlag:!1,deleteFlag:!1},b()(t,"addFlag",!1),b()(t,"editData",{}),b()(t,"deleteData",{}),b()(t,"viewFlag",!1),b()(t,"SuccessPopupFlag",!0),t))})),b()(o()(e),"successPopupClosePopup",(function(){var t;e.props.roleInitialization(),e.setState((t={addFlag:!1,editFlag:!1,deleteFlag:!1},b()(t,"addFlag",!1),b()(t,"viewFlag",!1),b()(t,"editData",{}),b()(t,"deleteData",{}),b()(t,"message",""),b()(t,"SuccessPopupFlag",!1),t))})),b()(o()(e),"successPopup",(function(){e.setState({successFlag:!0,SuccessPopupFlag:!0})})),b()(o()(e),"successPopupClosePopup",(function(){e.props.templateInitialization(),e.setState({SuccessPopupFlag:!1})})),b()(o()(e),"closeViewPopup",(function(){document.body.classList.remove("modal-open"),e.setState({viewFlag:!1,viewData:{}})})),b()(o()(e),"viewPopup",(function(t){if(null==e.props.template||e.props.template.view){document.body.classList.add("modal-open");var a=t._id;e.props.getTemplateDetail({templateId:a,whiteList:""}),localStorage.setItem("templateId",JSON.stringify(a))}})),e}return s()(a,[{key:"componentDidMount",value:function(){this.props.getTemplateListInfo({search:""})}},{key:"componentDidUpdate",value:function(e){var t=this.props.templateObj,a=t.successPopup,l=t.successLoader;e.deleteSuccess!=this.props.deleteSuccess&&(this.deleteClosePopup(),this.setState({showSuccess:!0,message:this.props.deleteSuccess.msg}),this.props.getTemplateListInfo({search:""})),this.props.error&&(this.deleteClosePopup(),C.c.error("you are not authorized"),this.props.errorClear()),e.templateDetail!=this.props.templateDetail&&this.props.history.push({pathname:"/template-view",state:{detail:this.props.templateDetail}}),e!=this.props&&""!==a&&!1===l&&this.successPopup()}},{key:"render",value:function(){var e=this,t=this.state,a=t.deleteFlag,l=(t.editFlag,t.addFlag,t.viewFlag),n=t.viewData,c=t.message,s=(t.editData,t.showSuccess),r=t.deleteData,o=t.SuccessPopupFlag,i=this.props,p=i.templateList,u=i.role,m=i.templateObj,d=i.roletemplate,f=m.successPopup,h={titles:x.a,data:[]};return p.length>0&&(h.data=p.map((function(e,t){var a=e.createdAt;return N(N({},e),{sr_no:t+1,date:Object(F.c)(a),time:Object(F.d)(a)})}))),g.a.createElement(E.w,null,g.a.createElement("div",{id:"teamMgnt",className:"wrapper wrapper-content"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-xl-12"},g.a.createElement("div",{className:"containerBox"},g.a.createElement("div",{className:"table-title d-flex justify-content-between align-items-center mb-4"},g.a.createElement("h2",{className:"f-b m-0"},"Template Management"),null==this.props.template||this.props.template.create||null!=d&&(this.props.template.create||d.create)?g.a.createElement("a",{onClick:function(){return e.addTemplates()},className:"btn btn-primary py-1"},"Create New Template"):null),g.a.createElement("div",{className:"table-responsive fixHeight"},g.a.createElement(E.r,{dataTable:h,actions:L,defaultSort:"sr_no",editButtonOnClick:this.editButtonOnClick,deleteButtonOnClick:this.deleteButtonOnClick,loader:this.props.loader,viewPopup:this.viewPopup,updatePermission:null==this.props.template||null==this.props.roletemplate||this.props.template.update||this.props.roletemplate.update,deletePermission:null==this.props.template||null==this.props.roletemplate||this.props.template.delete||this.props.roletemplate.delete})))),a&&g.a.createElement(S,{closePopup:this.deleteClosePopup,confirmDelete:this.confirmDelete,role:u,deleteData:r}),l&&g.a.createElement(k.default,{closePopup:this.closeViewPopup,viewData:n}))),1==s?g.a.createElement(T.a,{closePopup:this.closeSuccessPopup,history:this.props.history,message:c}):null,!0===o&&f?g.a.createElement(E.q,{msg:f.msg,closePopup:this.successPopupClosePopup,history:this.props.history}):null)}}]),a}(v.Component);t.default=Object(y.b)((function(e){return{templateList:e.Template.templateList,loader:e.Role.loader,deleteSuccess:e.Template.deleteSuccess,templateDetail:e.Template.templateDetail,templateObj:e.Template,template:e.Profile.template,error:e.Auth.error,roletemplate:e.Profile.Roletemplate}}),(function(e){return{getTemplateListInfo:function(t){return e(w.ac(t))},deleteTemplate:function(t){return e(w.jb(t))},getTemplateDetail:function(t){return e(w.Yb(t))},templateInitialization:function(){return e(w.fd())},errorClear:function(){return e(w.Fb())}}}))(R)},951:function(e,t,a){"use strict";a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return u}));var l=a(946),n=a.n(l),c=a(953),s=function(e){return e&&n()(e).format("MM-DD-YYYY")},r=function(e){return e&&n()(e).format("Do MMM YYYY")},o=function(e){return e&&n()(e).format("hh:mm A")},i=function(e,t,a){c.h[t].forEach((function(t){a.push(e[t])}))},p=function(e){var t=new FormData;return t.append("autoSave",e.autoSave),t.append("template_name",e.template_name),t.append("template_type",e.template_type),t.append("isAcceptanceDocument",e.isAcceptanceDocument),t.append("attribute",JSON.stringify(e.attribute)),e.acceptance_form&&t.append("acceptance_form",e.acceptance_form),t.append("thumbnail",e.thumbnail),e.templateId&&t.append("templateId",e.templateId),t},u=function(e,t,a,l,n){var c=[];return i(e,"role",c),i(t,"document",c),i(a,"template",c),i(l,"invoice",c),i(n,"payment",c),c}},956:function(e,t,a){"use strict";var l=a(164),n=a.n(l),c=a(165),s=a.n(c),r=a(166),o=a.n(r),i=a(167),p=a.n(i),u=a(124),m=a.n(u),d=a(4),f=a.n(d),h=a(950);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,l=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(l,arguments,n)}else a=l.apply(this,arguments);return p()(this,a)}}var v=function(e){o()(a,e);var t=b(a);function a(){return n()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props.closePopup;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",null,f.a.createElement("div",{className:"modal fade show",id:"twoFactor",tabIndex:"-1",role:"dialog","aria-labelledby":"twoFactorTitle","aria-hidden":"true",style:{zIndex:1}},f.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},f.a.createElement("div",{className:"modal-content"},f.a.createElement("div",{className:"modal-header "},f.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:e},f.a.createElement("img",{src:h.a.close}))),f.a.createElement("div",{className:"modal-body pt-0 plr-100 pb-5"},f.a.createElement("h4",{className:"modal-title text-center f-24 mb-4 f-b",id:"successTitle"},this.props.message),f.a.createElement("img",{className:"mx-auto my-0 d-block ",src:h.a.success})))))),f.a.createElement("div",{className:"modal-backdrop fade show",style:{zIndex:0}}))}}]),a}(d.Component);t.a=v}}]);