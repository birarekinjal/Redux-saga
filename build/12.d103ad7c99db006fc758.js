(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1578:function(e,t,r){"use strict";r.r(t);var a=r(3),o=r.n(a),n=r(7),s=r.n(n),c=r(164),l=r.n(c),i=r(165),u=r.n(i),p=r(125),d=r.n(p),m=r(166),f=r.n(m),h=r(167),g=r.n(h),v=r(124),w=r.n(v),b=r(16),y=r.n(b),E=r(4),S=r.n(E),P=r(950),x=r(947),k=r(954),F=r(957),C=F.c({email:F.d().email("E-mail is not valid!").required("E-mail is required!"),password:F.d().required("Password is required!")}),N=r(127),I=r(397),R=r(956),T=(r(969),r(991)),V=r(11),D=r(126),M=r(1);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=w()(e);if(t){var o=w()(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return g()(this,r)}}var O={position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},A=function(e){f()(r,e);var t=_(r);function r(e){var a;return l()(this,r),a=t.call(this,e),y()(d()(a),"handleSubmit",(function(e){a.props.checkUser({field:"email",value:e.email}),a.setState({email:e.email,submit:!0})})),y()(d()(a),"callForgot",(function(){var e=a.props.showForgotVerifyPasswordPopup,t=a.state.email;a.setState({loader:!0});try{I.a.forgotPassword(t).then((function(r){a.setState({loader:!1}),e(t)})).catch((function(e){V.c.error(e.message,O),a.setState({loader:!1})}))}catch(e){console.log(e),a.setState({loader:!1}),V.c.error(e.message,O)}})),a.state={loader:!1,email:"",submit:!1},a}return u()(r,[{key:"componentDidUpdate",value:function(e){this.props.errorClear(),""!=this.props.checkUserResponse&&""==this.props.error&&this.state.submit&&(this.callForgot(),this.setState({submit:!1}))}},{key:"render",value:function(){var e=this.props.closePopup,t=this.state.loader;return S.a.createElement(S.a.Fragment,null,this.props.error?V.c.error("email does not exist",O):null,S.a.createElement(x.k,{closePopup:e},S.a.createElement(k.d,{initialValues:{email:""},validationSchema:T.a,onSubmit:this.handleSubmit},(function(e){var r=e.values,a=e.errors,o=e.touched,n=e.handleSubmit,s=e.setFieldValue,c=e.setFieldTouched;return S.a.createElement(S.a.Fragment,null,S.a.createElement("form",null,S.a.createElement("div",{class:"modal-body pt-0 plr-100 pb-0"},S.a.createElement("h4",{class:"modal-title text-center f-24 f-b",id:"forgotTitle"},"Forgot Password"),S.a.createElement("h5",{class:"text-center my-5 f-20 f-m"},"If you forgot the password, please enter your email address.",S.a.createElement("br",null),S.a.createElement("br",null),"we will send you a password verification code on your email address."),S.a.createElement(x.t,{type:"text",name:"email",id:"email",placeholder:"Enter E-mail address",error:a.email,onChange:function(e){return s("email",e)},value:r.email,showError:o.email&&a.email,onBlur:function(){return!o.email&&c("email",!0,!0)}})),S.a.createElement("div",{class:"modal-footer plr-100 pb-5 f-m flex-column"},S.a.createElement(x.c,{type:"submit",onClick:n,class:"btn btn-primary w-100 f-18 f-b",buttonText:t?S.a.createElement("i",{class:"fa fa-refresh fa-spin"}):"Submit"}),S.a.createElement("div",{class:"text-center d-block mt-5 txt-blk f-20 f-m"},"Don't have an Account,"," ",S.a.createElement(N.b,{to:"/signup",class:"txt-blk acc-link"},S.a.createElement("u",null,"Create Now"))))))}))))}}]),r}(E.Component),q=Object(D.b)((function(e){return{error:e.Auth.error,checkUserResponse:e.Auth.checkUser,checkUserData:e.Auth.checkUserData}}),(function(e){return{checkUser:function(t){return e(M.H(t))},errorClear:function(){return e(M.Fb())}}}))(A),U=r(958);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=w()(e);if(t){var o=w()(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return g()(this,r)}}var B,H={position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},J=function(e){f()(r,e);var t=L(r);function r(e){var a;return l()(this,r),a=t.call(this,e),y()(d()(a),"handleSubmit",function(){var e=s()(o.a.mark((function e(t){var r,n,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.props.user,n=t.otp,s=t.password,document.body.classList.remove("modal-open"),150,c=document.querySelector("#time"),I.a.forgotPasswordSubmit(r,n,s).then((function(e){a.props.closePopup(),a.props.showSuccessPopup()})).catch((function(e){console.log("error confirming sign up",e),V.c.error(e.message,H),a.setState({disabled:!1}),clearInterval(B),c.textContent="2:30"}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y()(d()(a),"resendForgot",(function(){var e=a.props.user,t=document.querySelector("#time");a.startTimer(150,t);try{I.a.forgotPassword(e).then((function(e){return console.log(e)})).catch((function(e){return V.c.error(error.message,H)}))}catch(e){V.c.error(e.message,H)}})),y()(d()(a),"startTimer",(function(e,t){var r,o,n=e;B=setInterval((function(){r=parseInt(n/60,10),o=parseInt(n%60,10),r=r<10?"0"+r:r,o=o<10?"0"+o:o,t.textContent=r+":"+o,--n<0&&(n=e,clearInterval(B),a.setState({disabled:!1}))}),1e3)})),a.state={disabled:!1},a}return u()(r,[{key:"componentDidMount",value:function(){var e=document.querySelector("#time");this.startTimer(150,e),this.setState({disabled:!0})}},{key:"render",value:function(){var e=this,t=this.props.closePopup;return S.a.createElement(x.k,{closePopup:t},S.a.createElement(k.d,{initialValues:{otp:"",password:""},validationSchema:U.a,onSubmit:this.handleSubmit},(function(t){var r=t.values,a=t.errors,o=t.touched,n=t.handleSubmit,s=t.setFieldValue,c=t.setFieldTouched;return S.a.createElement(S.a.Fragment,null,S.a.createElement("form",null,S.a.createElement("div",{className:"modal-body pt-0 plr-100 pb-0"},S.a.createElement("h4",{className:"modal-title text-center f-24 mb-5 f-b",id:"twoFactorTitle"},"Change Password"),S.a.createElement(x.t,{type:"password",name:"password",id:"password",placeholder:"Enter new password",error:a.password,onChange:function(e){return s("password",e)},value:r.password,showError:o.password&&a.password,className:"mb-4",onBlur:function(){return!o.password&&c("password",!0,!0)}}),S.a.createElement(x.t,{type:"text",name:"otp",id:"otp",placeholder:"Enter one time password",error:a.otp,onChange:function(e){return s("otp",e)},value:r.otp,showError:o.otp&&a.otp,onBlur:function(){return!o.otp&&c("otp",!0,!0)}}),S.a.createElement("h5",{class:"text-center txt-blu my-5 f-20 f-m"},"Verification code sent on registered E-mail address"),S.a.createElement("h5",{class:"txt-org text-center mb-5 f-m"},"Code can be resent in ",S.a.createElement("span",{id:"time"},"02:30"))),S.a.createElement("div",{className:"modal-footer plr-100 pb-5 f-m"},S.a.createElement(x.c,{type:"submit",onClick:n,buttonText:"Change Password",className:"w-100"})),S.a.createElement("div",{className:e.state.disabled?"disabledLink txt-org text-center mb-3 f-m":"txt-org text-center mb-3 f-m",style:{cursor:"pointer"},onClick:e.state.disabled?null:e.resendForgot},"resend confirmation code")))})))}}]),r}(E.Component);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=w()(e);if(t){var o=w()(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return g()(this,r)}}var $,z={position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},W=function(e){f()(r,e);var t=j(r);function r(e){var a;return l()(this,r),a=t.call(this,e),y()(d()(a),"handleSubmit",function(){var e=s()(o.a.mark((function e(t){var r,n,c,l,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,r.userName,n=r.user,c=r.email,l=r.password,console.log(n),i=t.otp,document.body.classList.remove("modal-open"),150,u=document.querySelector("#time"),a.startTimer(150,u),a.setState({disabled:!0}),e.next=9,I.a.verifyUserAttributeSubmit(n,"phone_number",i).then(function(){var e=s()(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,I.a.signIn({username:c,password:l});case 3:(r=e.sent)&&a.props.showTwoFactorPopup(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error confirming sign up",e),V.c.error(e.message,z),a.setState({disabled:!1}),clearInterval($),u.textContent="2:30"}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y()(d()(a),"startTimer",(function(e,t){var r,o,n=e;console.log(n),$=setInterval((function(){r=parseInt(n/60,10),o=parseInt(n%60,10),r=r<10?"0"+r:r,o=o<10?"0"+o:o,t.textContent=r+":"+o,--n<0&&(n=e,clearInterval($),a.setState({disabled:!1}))}),1e3)})),a.state={disabled:!1},a}return u()(r,[{key:"render",value:function(){var e=this,t=this.props.closePopup;return S.a.createElement(x.k,{closePopup:t},S.a.createElement(k.d,{initialValues:{otp:""},validationSchema:U.a,onSubmit:this.handleSubmit},(function(t){var r=t.values,a=t.errors,o=t.touched,n=t.handleSubmit,s=t.setFieldValue,c=t.setFieldTouched;return S.a.createElement(S.a.Fragment,null,S.a.createElement("form",null,S.a.createElement("div",{className:"modal-body pt-0 plr-100 pb-0"},S.a.createElement("h4",{className:"modal-title text-center f-24 mb-5 f-b",id:"twoFactorTitle"},"Mobile Number Verification"),S.a.createElement(x.t,{type:"text",name:"otp",id:"otp",placeholder:"Enter one time password",error:a.otp,onChange:function(e){return s("otp",e)},value:r.otp,showError:o.otp&&a.otp,onBlur:function(){return!o.otp&&c("otp",!0,!0)}}),S.a.createElement("h5",{class:"text-center txt-blu my-5 f-20 f-m"},"Verification code sent on registered E-mail address"),S.a.createElement("h5",{className:"txt-org text-center mb-5 f-m"},"Code can be resent in ",S.a.createElement("span",{id:"time"},"02:30"))),S.a.createElement("div",{className:"modal-footer plr-100 pb-3 f-m"},S.a.createElement(x.c,{type:"submit",onClick:n,buttonText:"Verify Mobile Number",className:e.state.disabled?"disabled w-100":"w-100",isDisabled:e.state.disabled})),S.a.createElement("div",{class:"txt-org text-center mb-3 f-m",style:{cursor:"pointer"},onClick:e.resendCode},"resend confirmation code")))})))}}]),r}(E.Component);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=w()(e);if(t){var o=w()(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return g()(this,r)}}var Q,Y={position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},Z=function(e){f()(r,e);var t=G(r);function r(e){var a;return l()(this,r),a=t.call(this,e),y()(d()(a),"startTimer",(function(e,t){var r,o,n=e;Q=setInterval((function(){r=parseInt(n/60,10),o=parseInt(n%60,10),r=r<10?"0"+r:r,o=o<10?"0"+o:o,t.textContent=r+":"+o,--n<0&&(n=e,clearInterval(Q),a.setState({disabled:!1}))}),1e3)})),y()(d()(a),"resendSignin",s()(o.a.mark((function e(){var t,r,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,r=t.email,n=t.password,150,s=document.querySelector("#time"),a.startTimer(150,s),e.next=5,I.a.signIn({username:r,password:n}).then((function(e){a.props.login({cognitoId:e.username}),localStorage.setItem("cognitoId",JSON.stringify(e.username)),a.setState({resend:!0,user2:e})})).catch((function(e){V.c.error(e.message,Y)}));case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))),y()(d()(a),"handleSubmit",function(){var e=s()(o.a.mark((function e(t){var r,n,c,l,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.otp,n=a.props.initialuser,c=a.state,l=c.user2,i=c.resend,document.body.classList.remove("modal-open"),u=i?l:n,e.prev=5,e.next=8,I.a.confirmSignIn(u,r,"SMS_MFA").then(function(){var e=s()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.currentSession().then((function(e){localStorage.setItem("jwtToken",JSON.stringify(e)),a.props.isSuperProvider&&""==a.props.document?a.props.history.push("./docVerify"):a.props.history.push("./dashboard")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return V.c.error(e.message,Y)}));case 8:e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),V.c.error(e.t0.message,Y);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}()),a.state={attributes:"",resend:!1,user2:"",disabled:!1},a}return u()(r,[{key:"componentDidMount",value:function(){var e=document.querySelector("#time");this.startTimer(150,e),this.setState({disabled:!0})}},{key:"render",value:function(){var e=this,t=this.props,r=t.closePopup,a=t.sentNum;return S.a.createElement(x.k,{closePopup:r},S.a.createElement(k.d,{initialValues:{otp:""},validationSchema:U.a,onSubmit:this.handleSubmit},(function(t){var r=t.values,o=t.errors,n=t.touched,s=t.handleSubmit,c=t.setFieldValue,l=t.setFieldTouched;return S.a.createElement(S.a.Fragment,null,S.a.createElement("form",null,S.a.createElement("div",{className:"modal-body pt-0 plr-100 pb-0"},S.a.createElement("h4",{className:"modal-title text-center f-24 mb-5 f-b",id:"twoFactorTitle"},"Two Factor Authentication"),S.a.createElement(x.t,{type:"text",name:"otp",id:"otp",placeholder:"Enter Code",error:o.otp,onChange:function(e){return c("otp",e)},value:r.otp,showError:n.otp&&o.otp,onBlur:function(){return!n.otp&&l("otp",!0,!0)}}),S.a.createElement("h5",{className:"text-center txt-blu my-5 f-20 f-m"},"Code has been sent to ",a),S.a.createElement("h5",{className:"txt-org text-center mb-5 f-m"},"Code can be resent in ",S.a.createElement("span",{id:"time"},"02:30"))),S.a.createElement("div",{className:"modal-footer plr-100 pb-5 f-m"},S.a.createElement(x.c,{type:"submit",onClick:s,buttonText:"Log In",className:"w-100"})),S.a.createElement("div",{className:e.state.disabled?"disabledLink txt-org text-center mb-3 f-m":"txt-org text-center mb-3 f-m",style:{cursor:"pointer"},onClick:e.state.disabled?null:e.resendSignin},"resend confirmation code")))})))}}]),r}(E.Component),K=Object(D.b)((function(e){return{isSuperProvider:e.Auth.isSuperProvider,document:e.Auth.document}}),(function(e){return{login:function(t){return e(M.tc(t))}}}))(Z);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=w()(e);if(t){var o=w()(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return g()(this,r)}}var ee,te={position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},re=function(e){f()(r,e);var t=X(r);function r(e){var a;return l()(this,r),a=t.call(this,e),y()(d()(a),"handleSubmit",function(){var e=s()(o.a.mark((function e(t){var r,n,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.props.user,n=t.newPassword,s=t.password,document.body.classList.remove("modal-open"),150,c=document.querySelector("#time"),console.log(r,n,s),I.a.completeNewPassword(r,s).then((function(e){I.a.setPreferredMFA(r,"SMS").then((function(e){a.props.closePopup(),a.props.showSuccessPopup()})).catch((function(e){}))})).catch((function(e){console.log("error confirming sign up",error),V.c.error(error.message,te),a.setState({disabled:!1}),clearInterval(ee),c.textContent="2:30"}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y()(d()(a),"resendForgot",(function(){var e=a.props.user;try{I.a.forgotPassword(e).then((function(e){return console.log(e)})).catch((function(e){return V.c.error(error.message,te)}))}catch(e){V.c.error(e.message,te)}})),y()(d()(a),"startTimer",(function(e,t){var r,o,n=e;ee=setInterval((function(){r=parseInt(n/60,10),o=parseInt(n%60,10),r=r<10?"0"+r:r,o=o<10?"0"+o:o,t.textContent=r+":"+o,--n<0&&(n=e,clearInterval(ee),a.setState({disabled:!1}))}),1e3)})),a.state={disabled:!1},a}return u()(r,[{key:"componentDidMount",value:function(){var e=document.querySelector("#time");this.startTimer(150,e),this.setState({disabled:!0})}},{key:"render",value:function(){var e=this.props.closePopup;return S.a.createElement(x.k,{closePopup:e},S.a.createElement(k.d,{initialValues:{newPassword:"",password:""},onSubmit:this.handleSubmit,validate:function(e){var t={};return e.password?e.password.length<8?t.password="Password has to be longer than 8 characters!":/^(?=.*[A-Z]).*$/.test(e.password)?/^(?=.*[a-z]).*$/.test(e.password)?/^(?=.*\d).*$/.test(e.password)?/^(?=.*[@$!%*#?&]).*$/.test(e.password)?e.newPassword!=e.password&&(t.newPassword="confirm password does not match new password"):t.password="Password should contain special character":t.password="Password should contain numeric":t.password="Password should contain lowercase":t.password="Password should contain uppercase":t.password="Required",t}},(function(e){var t=e.values,r=e.errors,a=e.touched,o=e.handleSubmit,n=e.setFieldValue;e.setFieldTouched;return S.a.createElement(S.a.Fragment,null,S.a.createElement("form",null,S.a.createElement("div",{className:"modal-body pt-0 plr-100 pb-0"},S.a.createElement("h4",{className:"modal-title text-center f-24 mb-5 f-b",id:"twoFactorTitle"},"Change Password"),S.a.createElement(x.t,{type:"password",name:"password",id:"password",placeholder:"Enter new password",onChange:function(e){return n("password",e)},value:t.password,className:"mb-2"}),r.password&&a.password&&S.a.createElement("div",{className:"input-feedback"},r.password),S.a.createElement(x.t,{type:"password",name:"newPassword",id:"newPassword",placeholder:"Enter confirm password",onChange:function(e){return n("newPassword",e)},value:t.newPassword}),r.newPassword&&a.newPassword&&S.a.createElement("div",{className:"input-feedback"},r.newPassword)),S.a.createElement("div",{className:"modal-footer plr-100 pb-5 f-m"},S.a.createElement(x.c,{type:"submit",onClick:o,buttonText:"Change Password",className:"w-100"}))))})))}}]),r}(E.Component);function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=w()(e);if(t){var o=w()(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return g()(this,r)}}var oe={position:"top-center",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},ne=function(e){f()(r,e);var t=ae(r);function r(e){var a;return l()(this,r),a=t.call(this,e),y()(d()(a),"onChangeCheckbox",(function(e){a.setState({isChecked:e})})),y()(d()(a),"handleSubmit",function(){var e=s()(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,localStorage.setItem("pass",JSON.stringify(n)),a.setState({email:r,loader:!0,password:n}),e.prev=3,e.next=6,I.a.signIn({username:r,password:n}).then((function(e){if("NEW_PASSWORD_REQUIRED"===e.challengeName){console.log("if called...");e.challengeParam.requiredAttributes;a.setState({complete_new_password_modal:!0,complete_new_user:e,loader:!1,email:"",password:""})}else console.log("else called..."),!0===a.state.isChecked&&(localStorage.username=r,localStorage.password=n,localStorage.isChecked=a.state.isChecked),a.props.login({cognitoId:e.username}),localStorage.setItem("cognitoId",JSON.stringify(e.username)),a.setState({sentNum:e.challengeParam.CODE_DELIVERY_DESTINATION}),I.a.setPreferredMFA(e,"SMS").then(function(){var e=s()(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("MFA update success: ",t),e.next=3,I.a.signIn({username:r,password:n}).then((function(e){console.log("login data",e),a.props.login({cognitoId:e.username}),localStorage.setItem("cognitoId",JSON.stringify(e.username)),a.setState({user:e,loader:!1,cognitoId:e.username})})).catch((function(e){return V.c.error(e.message,oe)}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){console.log("MFA update error: ",t),a.setState({popupFlag:!0,user:e,loader:!1})}))})).catch((function(e){V.c.error(e.message,oe),a.setState({loader:!1})}));case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("error signing up:",e.t0.message),a.setState({loader:!1}),V.c.error(e.t0.message,oe);case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}()),y()(d()(a),"showModal",(function(){document.body.classList.add("modal-open"),a.setState({popupForgotFlag:!0})})),y()(d()(a),"closeModal",(function(){a.setState({show:!1})})),y()(d()(a),"signUp",(function(){a.props.history.push("/signup")})),y()(d()(a),"closePasswordVerificationPopup",(function(){document.body.classList.remove("modal-open"),a.setState({popupForgotVerifiFlag:!1})})),y()(d()(a),"showForgotVerifyPasswordPopup",(function(e){document.body.classList.add("modal-open"),a.setState({popupForgotFlag:!1,popupForgotVerifiFlag:!0,forgotUsername:e})})),y()(d()(a),"popupMobileVerifiFlag",(function(e){a.setState({popupMobileVerifiFlag:!0})})),y()(d()(a),"showTwoFactorPopup",(function(e){a.setState({popupFlag:!0,popupMobileVerifiFlag:!1,user:e})})),y()(d()(a),"closePopup",(function(){document.body.classList.remove("modal-open"),a.setState({popupFlag:!1,popupForgotFlag:!1,popupMobileVerifiFlag:!1})})),y()(d()(a),"showSuccessPopup",(function(){document.body.classList.add("modal-open"),a.setState({popupSuccessFlag:!0})})),y()(d()(a),"closeSuccessPopup",(function(){document.body.classList.remove("modal-open"),a.setState({popupSuccessFlag:!1})})),a.state={popupFlag:!1,isChecked:!1,popupForgotFlag:!1,user:"",popupForgotVerifiFlag:!1,loggedUser:"",email:"",forgotUsername:"",attributes:"",popupMobileVerifiFlag:!1,popupSuccessFlag:!1,loader:!1,password:"",cognitoId:"",sentNum:"",complete_new_password_modal:!1,complete_new_user:""},a}return u()(r,[{key:"componentDidMount",value:function(){""!==localStorage.email&&localStorage.isChecked&&this.setState({isChecked:!0,email:localStorage.username})}},{key:"componentDidUpdate",value:function(e){console.log(null==this.props.document),this.props.isSuperProvider!=e.isSuperProvider&&this.setState({popupFlag:!0})}},{key:"render",value:function(){var e=this,t=this.state,r=t.popupFlag,a=t.isChecked,o=t.popupForgotFlag,n=t.popupForgotVerifiFlag,s=t.popupMobileVerifiFlag,c=t.popupSuccessFlag,l=t.loader,i=t.email,u=t.password,p=t.sentNum;return S.a.createElement(S.a.Fragment,null,S.a.createElement(x.i,{isLoginPage:!0}),S.a.createElement("div",{id:"content",className:"container my-5"},S.a.createElement("div",{className:"row"},S.a.createElement("div",{className:"offset-lg-1 col-lg-5 col-md-6 bg-brw side-img d-flex align-items-center justify-content-center flex-column"},S.a.createElement("h3",{className:"text-center text-white m-0"},"Welcome to DocTrace"),S.a.createElement("img",{className:"img-fluid mx-auto d-block",src:P.a.logo})),S.a.createElement("div",{className:"col-lg-5 col-md-6 log-container p-5 box-shd"},S.a.createElement("h1",{className:"f-b"},"Login"),S.a.createElement("div",{className:"tab-content"},S.a.createElement("div",{className:"tab-pane active",id:""},S.a.createElement(k.d,{initialValues:{email:null!=i?i:"",password:null!=u?u:""},enableReinitialize:!0,validationSchema:C,onSubmit:this.handleSubmit},(function(t){var r=t.values,o=t.errors,n=t.touched,s=t.handleSubmit,c=t.setFieldValue,i=t.setFieldTouched;return S.a.createElement(S.a.Fragment,null,S.a.createElement("form",null,S.a.createElement("div",{className:""},S.a.createElement("div",{className:"col p-0 mt-5"},S.a.createElement(x.t,{type:"email",name:"email",id:"email",placeholder:"Email",error:o.email,onChange:function(e){return c("email",e)},value:r.email,showError:n.email&&o.email,onBlur:function(){return!n.email&&i("email",!0,!0)}})),S.a.createElement("div",{className:""},S.a.createElement("div",{className:"col p-0 mt-4"},S.a.createElement(x.t,{type:"password",name:"password",id:"password",placeholder:"Password",onChange:function(e){return c("password",e)},error:o.password,value:r.password,showError:n.password&&o.password,onBlur:function(){return!n.password&&i("password",!0,!0)}}))),S.a.createElement("div",{className:" login-link"},S.a.createElement("div",{className:"col p-0 mt-5 d-flex justify-content-between"},S.a.createElement(x.d,{type:"checkbox",id:"customCheck",name:"example1",label:"Remember me",onChange:e.onChangeCheckbox,checked:a}),S.a.createElement("a",{className:"f-m txt-org f-14","data-toggle":"modal","data-target":"#forgot",onClick:e.showModal,style:{cursor:"pointer"}},S.a.createElement("u",null,"Forgot Password?")))),S.a.createElement("div",{className:" mt-5"},S.a.createElement(x.c,{type:"submit",onClick:s,buttonText:l?S.a.createElement("i",{class:"fa fa-refresh fa-spin"}):"Login"})),S.a.createElement("div",{className:"text-center d-block mt-5 txt-blk f-20"},"Don't have an Account?"," ",S.a.createElement("a",{className:" acc-link",onClick:function(){return e.signUp()},style:{cursor:"pointer"}},S.a.createElement("u",null,"Create Now"))))))})))))),1==r?S.a.createElement(K,{closePopup:this.closePopup,history:this.props.history,initialuser:this.state.user,email:this.state.email,password:this.state.password,popupMobileVerifiFlag:this.popupMobileVerifiFlag,sentNum:p}):null,1==o?S.a.createElement(q,{user:this.state.user,closePopup:this.closePopup,showForgotVerifyPasswordPopup:this.showForgotVerifyPasswordPopup}):null,1==n?S.a.createElement(J,{closePopup:this.closePasswordVerificationPopup,history:this.props.history,user:this.state.forgotUsername,showSuccessPopup:this.showSuccessPopup}):null,1==s?S.a.createElement(W,{userName:this.state.email,closePopup:this.closePopup,history:this.props.history,showTwoFactorPopup:this.showTwoFactorPopup,user:this.state.user,email:this.state.email,password:this.state.password}):null,1==c?S.a.createElement(R.a,{closePopup:this.closeSuccessPopup,history:this.props.history,message:"Password changed successfully"}):null,1==this.state.complete_new_password_modal?S.a.createElement(re,{closePopup:function(){e.setState({complete_new_password_modal:!1})},history:this.props.history,user:this.state.complete_new_user,showSuccessPopup:this.showSuccessPopup}):null))}}]),r}(E.Component);t.default=Object(D.b)((function(e){return{isSuperProvider:e.Auth.isSuperProvider,document:e.Auth.document}}),(function(e){return{providerInfo:function(t){return e(M.Gc(t))},login:function(t){return e(M.tc(t))},checkUser:function(t){return e(M.H(t))}}}))(ne)},956:function(e,t,r){"use strict";var a=r(164),o=r.n(a),n=r(165),s=r.n(n),c=r(166),l=r.n(c),i=r(167),u=r.n(i),p=r(124),d=r.n(p),m=r(4),f=r.n(m),h=r(950);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=d()(e);if(t){var o=d()(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return u()(this,r)}}var v=function(e){l()(r,e);var t=g(r);function r(){return o()(this,r),t.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props.closePopup;return f.a.createElement(f.a.Fragment,null,f.a.createElement("div",null,f.a.createElement("div",{className:"modal fade show",id:"twoFactor",tabIndex:"-1",role:"dialog","aria-labelledby":"twoFactorTitle","aria-hidden":"true",style:{zIndex:1}},f.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},f.a.createElement("div",{className:"modal-content"},f.a.createElement("div",{className:"modal-header "},f.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:e},f.a.createElement("img",{src:h.a.close}))),f.a.createElement("div",{className:"modal-body pt-0 plr-100 pb-5"},f.a.createElement("h4",{className:"modal-title text-center f-24 mb-4 f-b",id:"successTitle"},this.props.message),f.a.createElement("img",{className:"mx-auto my-0 d-block ",src:h.a.success})))))),f.a.createElement("div",{className:"modal-backdrop fade show",style:{zIndex:0}}))}}]),r}(m.Component);t.a=v},958:function(e,t,r){"use strict";var a=r(957),o=a.c({otp:a.b().typeError("Value must be a number.").integer("Value must be a number.").required("Required.")});t.a=o},991:function(e,t,r){"use strict";var a=r(957),o=a.c({email:a.d().email("E-mail is not valid!").required("E-mail is required!")});t.a=o}}]);